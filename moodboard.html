
<!DOCTYPE html>
<html lang="fr">

<head>
    <title>App builder : simplicité et puissance pour la création parfaite d'applications iOS et Android</title>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <link rel='dns-prefetch' href="https://portal.ww-cdn.com">
    <link rel='dns-prefetch' href="https://gtm.goodbarber.com/">
    <link rel='dns-prefetch' href='https://consent.cookiebot.com' />
    <link rel='preconnect' href='https://consent.cookiebot.com' />
    <link rel='preconnect' href='https://www.google-analytics.com' />
    <link rel='preconnect' href='https://ssl.google-analytics.com' />
    <link rel='preconnect' href='https://gtm.goodbarber.com/' />
    <link rel='preconnect' href='https://portal.ww-cdn.com' />
    <link rel='preconnect' href='https://bat.bing.com' />
    <link rel='preconnect' href='https://googleads.g.doubleclick.net' />
    <link rel='preconnect' href='https://portal.ww-cdn.com' crossorigin>
    <meta name="description" content="Créez des applications iOS et Android parfaites, facilement et rapidement avec GoodBarber ! Notre app builder intuitif permet à tout le monde de créer des applications avec un design époustouflant et la meilleure expérience utilisateur, le tout sans coder.">
    <link rel="icon" type="image/jpg" href="https://blog.goodbarber.com/var/style/logo.jpg?v=1686488874" sizes="48x48">
    <link rel="shortcut icon" type="image/jpg" href="https://blog.goodbarber.com/var/style/logo.jpg?v=1686488874" sizes="48x48">
    <meta property="og:locale" content="fr_FR" />
   
     <link href="style-mood.css" rel="stylesheet">
    <meta name="apple-itunes-app" content="app-id=665149365">
    <meta property="fb:app_id" content="328714597156338" />
    <meta property="fb:pages" content="108103882632650" />
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "GoodBarber",
            "brand": "GoodBarber",
            "url": "https://fr.goodbarber.com",
            "logo": "https://back.ww-cdn.com/assets/img/gb_portal/presskit/black_stacked_goodbarber.jpg",
            "sameAs": ["https://www.facebook.com/goodbarber/",
                "https://twitter.com/goodbarber",
                "https://www.instagram.com/goodbarber/",
                "https://www.youtube.com/goodbarber",
                "https://fr.wikipedia.org/wiki/GoodBarber",
                "https://www.wikidata.org/wiki/Q105691175",
                "https://www.g2.com/products/goodbarber/reviews",
                "https://sourceforge.net/software/product/GoodBarber/",
                "https://www.trustpilot.com/review/goodbarber.com"
            ],
            "location": {
                "@type": "LocalBusiness",
                "name": "GoodBarber",
                "image": "https://back.ww-cdn.com/assets/img/gb_portal/presskit/black_stacked_goodbarber.jpg",
                "address": {
                    "@type": "PostalAddress",
                    "addressLocality": "Ajaccio",
                    "addressCountry": "FR",
                    "streetAddress": "12 Rue Général Fiorella",
                    "postalCode": "20000",
                    "telephone": ""
                }
            }
        }
    </script>
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "SoftwareApplication",
            "name": "GoodBarber",
            "description": "GoodBarber est le logiciel No Code pour créer des applications mobiles pour Android et iOS sans coder, sans programmer. GoodBarber est aussi l'App builder pour applications web PWA.",
            "url": "https://fr.goodbarber.com",
            "operatingSystem": ["ANDROID", "IOS", "WINDOWS", "macOS"],
            "applicationCategory": ["Mobile Application", "business software", "mobile application development platform"],
            "sameAs": ["https://www.wikidata.org/wiki/Q105691175",
                "https://www.g2.com/products/goodbarber/reviews",
                "https://sourceforge.net/software/product/GoodBarber/",
                "https://fr.wikipedia.org/wiki/GoodBarber",
                "https://www.trustpilot.com/review/goodbarber.com"
            ],
            "maintainer": {
                "@type": "Organization",
                "name": "GoodBarber"
            },
            "aggregateRating": {
                "@type": "AggregateRating",
                "Author": {
                    "@type": "Organization",
                    "name": "TRUSTPILOT"
                },
                "url": "https://www.trustpilot.com/review/goodbarber.com",
                "ratingValue": "4.4",
                "ratingCount": "422"
            },
            "offers": {
                "@type": "AggregateOffer",
                "lowPrice": "0",
                "highPrice": " ",
                "priceCurrency": "EUR",
                "offers": [{
                        "@type": "Offer",
                        "availability": "https://schema.org/InStock",
                        "url": "https://fr.goodbarber.com/pricing/ecommerce/"
                    },
                    {
                        "@type": "Offer",
                        "availability": "https://schema.org/InStock",
                        "url": "https://fr.goodbarber.com/pricing/"
                    },
                    {
                        "@type": "Offer",
                        "availability": "https://schema.org/InStock",
                        "url": "https://fr.goodbarber.com/pricing/reseller/"
                    }
                ]
            }
        }
    </script>
    <meta name="ahrefs-site-verification" content="9e6d7e3a565399cf5c4b7047607795de718f6ab3b5cc5dab9aa667d5b4b69477">
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "name": "GoodBarber",
            "alternateName": "GoodBarber App Builder",
            "url": "https://fr.goodbarber.com"
        }
    </script>
    <link rel="alternate" hreflang="en" href="https://www.goodbarber.com">
    <link rel="alternate" hreflang="x-default" href="https://www.goodbarber.com">
    <link rel="alternate" hreflang="fr" href="https://fr.goodbarber.com">
    <link rel="alternate" hreflang="it" href="https://it.goodbarber.com">
    <link rel="alternate" hreflang="es" href="https://es.goodbarber.com">
    <link rel="alternate" hreflang="pt" href="https://pt.goodbarber.com">
    <link rel="alternate" hreflang="de" href="https://de.goodbarber.com">
    <link rel="alternate" hreflang="nl" href="https://nl.goodbarber.com">
    <link rel="canonical" href="https://fr.goodbarber.com">
    <meta property="og:url" content="https://fr.goodbarber.com" />
    <link rel="icon" type="image/png" href="https://portal.ww-cdn.com/portal_static/images/favicon-32x32.5df3cb8cb3aa.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://portal.ww-cdn.com/portal_static/images/favicon-16x16.e897d504ca9f.png" sizes="16x16">
    <link rel="alternate stylesheet" id="ff_ccs" type="text/css" media="(min-width: 1400px)" href="https://portal.ww-cdn.com/portal_static/portal2021/navigation.88f538549a27.css" onload="this.rel='stylesheet'" />
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments)
        }
        gtag("consent", "default", {
            ad_personalization: "denied",
            ad_storage: "denied",
            ad_user_data: "denied",
            analytics_storage: "denied",
            functionality_storage: "denied",
            personalization_storage: "denied",
            security_storage: "granted",
            wait_for_update: 500
        });
        gtag("set", "ads_data_redaction", true);
        gtag("set", "url_passthrough", true);;
    </script>
    <script>
        if (navigator.userAgent.toLowerCase().search("firefox")) {
            document.getElementById('ff_ccs').rel = 'stylesheet';
        }

        function getCookie(cname) {
            var name = cname + "=";
            var decodedCookie = decodeURIComponent(document.cookie);
            var ca = decodedCookie.split(';');
            for (var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }
        var session = getCookie("gbusersession");
        var session_status = "visitor";
        var session_userid = null;
        if (session != "") {
            session_status = session.split("|")[0];
            if (session_status != "visitor") {
                session_userid = session.split("|")[1];
            }
        }
        var group = getCookie("xpelastic");
        if (group != "B") {
            group = "A";
        }
        window.dataLayer = window.dataLayer || [];
        if (session_userid != null) {
            dataLayer.push({
                "userStatus": session_status,
                "userId": session_userid,
                "testgroup": group
            });
        } else {
            dataLayer.push({
                "userStatus": session_status,
                "testgroup": group
            });
        }(function(w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src = 'https://gtm.goodbarber.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-5M43XL6');;
    </script>
    <script id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-blockingmode="auto" data-cbid="4af41cf2-567e-477a-b28d-dda4276518d5" type="text/javascript"></script>
    <script>
        function CookiebotCallback_OnAccept() {
            setCookie('permission_cookie', 'y', 10);
        }
        window.addEventListener("CookiebotOnDialogInit", function() {
            if (Cookiebot.getDomainUrlParam("monitoring") === "1") {
                Cookiebot.setOutOfRegion();
            }
        });;
    </script>
    <link rel="preload" as="image" href="https://portal.ww-cdn.com/portal_static/svg/fapro/solid/circle-check.2403fb6c7178.svg" />
    <link rel="preload" as="image" media="(min-width: 993px)" href="https://portal.ww-cdn.com/portal_static/images/home_coral/hero-web@small.b14c9750f6ac.png" imagesrcset="https://portal.ww-cdn.com/portal_static/images/home_coral/hero-web@2x.9ac406743c9e.webp 1240w, https://portal.ww-cdn.com/portal_static/images/home_coral/hero-web.cc1565c4d449.webp 620w, https://portal.ww-cdn.com/portal_static/images/home_coral/hero-web@small.b14c9750f6ac.png 310w"
        sizes="45vw" />
    
</head>


<body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5M43XL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <header id="gbhead">
        <nav id="gbnavbar"><a href="https://fr.goodbarber.com" class="" id="goodbarber-logo"><svg xmlns="http://www.w3.org/2000/svg"
 width="177.000000px" height="38.000000px" viewBox="0 0 177.000000 38.000000" style="fill: #fff"
 preserveAspectRatio="xMidYMid meet"><title>GoodBarber</title><g transform="translate(-9.000000,49.000000) scale(0.0350,-0.03500)"
 stroke="none"><path d="M2583 1393 l-23 -4 0 -418 0 -419 31 -6 c50 -10 234 -7 288 5 112 24
176 94 187 206 11 100 -26 182 -98 219 l-30 16 28 18 c69 42 94 91 94 181 0
110 -56 173 -178 198 -50 10 -252 13 -299 4z m310 -54 c21 -6 55 -25 75 -43
33 -31 36 -39 39 -97 5 -84 -16 -126 -77 -156 -39 -21 -59 -23 -182 -23 l-138
0 0 165 0 164 58 4 c72 5 176 -2 225 -14z m-13 -380 c31 -7 65 -23 85 -41 62
-54 70 -181 15 -259 -40 -55 -155 -84 -292 -73 l-78 7 0 188 0 189 110 0 c60
0 132 -5 160 -11z"/><path d="M495 1353 c-70 -24 -146 -101 -171 -173 -16 -47 -19 -84 -19 -245 l0
-190 33 -68 c40 -80 98 -129 181 -154 44 -12 79 -14 171 -9 63 3 129 10 145
14 l30 8 6 105 c3 57 6 96 7 86 7 -66 93 -156 168 -177 65 -18 172 -8 225 21
58 32 105 96 120 164 l12 55 21 -19 c12 -11 41 -29 66 -40 57 -26 182 -29 238
-5 43 18 97 66 120 109 17 30 17 30 23 -66 4 -80 10 -104 33 -143 56 -96 154
-128 327 -108 56 7 113 18 128 25 l26 12 0 405 0 405 -72 3 -73 3 0 -109 0
-109 -73 5 c-128 8 -223 -34 -267 -117 l-19 -36 -1 52 c-1 133 -45 218 -139
266 -92 46 -224 35 -305 -27 -39 -29 -75 -98 -83 -156 l-6 -39 -31 23 c-65 49
-98 60 -181 60 -134 0 -216 -56 -253 -174 l-17 -55 -75 0 -75 0 -3 -152 -3
-153 -71 0 c-87 0 -126 21 -154 82 -16 36 -19 66 -19 213 0 150 2 175 20 209
38 76 55 81 231 78 l155 -3 -3 57 c-3 55 -5 58 -33 66 -16 5 -88 11 -160 13
-106 4 -139 2 -180 -12z m1184 -149 c37 -26 51 -74 51 -176 0 -113 -17 -154
-74 -182 -36 -17 -43 -18 -80 -5 -54 19 -76 59 -83 152 -11 147 31 227 121
227 23 0 52 -7 65 -16z m-477 -171 c38 -35 48 -68 48 -168 0 -144 -30 -195
-115 -195 -86 0 -119 53 -119 190 0 115 17 163 66 185 40 18 93 13 120 -12z
m1001 1 l37 -7 0 -193 0 -193 -54 -6 c-60 -8 -114 5 -139 33 -49 54 -48 281 1
336 31 34 76 43 155 30z"/><path d="M1600 990 c-39 -39 -11 -110 43 -110 29 0 67 39 67 68 0 29 -34 62
-65 62 -14 0 -34 -9 -45 -20z"/><path d="M1125 825 c-14 -13 -25 -33 -25 -45 0 -29 35 -60 68 -60 57 0 83 69
42 110 -27 27 -56 25 -85 -5z"/><path d="M3965 1307 c-3 -6 -4 -176 -3 -377 l3 -365 60 -13 c33 -7 99 -11 147
-9 70 2 92 7 120 26 80 55 102 126 96 313 -4 148 -18 191 -78 241 -40 34 -80
41 -201 35 l-99 -5 0 84 c0 77 -2 83 -20 83 -11 0 -23 -6 -25 -13z m302 -213
c60 -45 68 -74 68 -239 0 -172 -11 -208 -73 -247 -31 -19 -50 -22 -114 -21
-43 1 -92 4 -108 8 l-30 7 2 251 3 252 35 7 c19 3 70 6 112 5 60 -2 83 -7 105
-23z"/><path d="M3175 1147 c-37 -28 -8 -37 103 -30 166 9 207 -18 214 -143 l3 -59
-120 -5 c-136 -6 -184 -23 -222 -80 -30 -44 -32 -158 -4 -210 48 -90 168 -104
322 -36 12 5 18 1 22 -14 4 -16 12 -21 29 -18 l23 3 0 240 c0 220 -2 243 -20
280 -11 22 -35 50 -54 62 -31 21 -46 23 -156 23 -86 0 -127 -4 -140 -13z m323
-386 c2 -66 -1 -108 -9 -117 -18 -22 -119 -55 -175 -57 -92 -3 -134 42 -134
146 0 44 5 62 23 82 31 36 103 54 207 52 l85 -2 3 -104z"/><path d="M3650 855 l0 -305 25 0 25 0 0 261 0 260 46 21 c26 11 67 23 93 27
32 4 47 11 49 24 3 14 -4 17 -48 17 -31 0 -68 -8 -92 -20 -23 -11 -43 -20 -44
-20 -1 0 -4 9 -7 20 -3 12 -14 20 -26 20 -21 0 -21 -2 -21 -305z"/><path d="M4601 1139 c-88 -45 -127 -150 -119 -324 5 -117 26 -174 81 -222 52
-45 103 -57 222 -49 122 7 145 13 145 37 0 22 -11 23 -120 9 -153 -20 -245 27
-269 138 -6 29 -11 66 -11 82 l0 30 203 2 202 3 -2 78 c-2 95 -28 155 -86 201
-35 28 -47 31 -120 34 -69 3 -89 -1 -126 -19z m182 -33 c61 -26 89 -70 102
-163 l7 -53 -182 0 -182 0 6 48 c4 26 17 67 29 92 37 76 138 111 220 76z"/><path d="M5067 1153 c-4 -3 -7 -141 -7 -305 l0 -298 25 0 25 0 0 259 0 259 46
23 c26 12 69 24 95 27 40 4 49 8 49 23 0 16 -8 19 -50 19 -31 0 -66 -8 -90
-20 -22 -11 -41 -20 -43 -20 -3 0 -7 9 -10 20 -5 19 -27 27 -40 13z"/><path d="M1112 429 c-112 -9 -207 -20 -210 -23 -14 -14 24 -25 211 -61 216
-41 238 -40 257 10 12 31 -1 70 -29 84 -11 6 -21 10 -23 10 -2 -1 -95 -10
-206 -20z"/><path d="M1450 433 c-32 -22 -25 -92 11 -112 24 -13 45 -11 249 35 123 27 225
54 227 60 3 9 -48 14 -174 18 -98 3 -204 8 -235 10 -39 3 -63 -1 -78 -11z"/></g></svg></a></nav>
    </header>
    <main id="main">
        <div id="main">
            <div class="creation_process_wrapper">
                <div class="creation_process_breadcrumb">
                    <ul class="creation_process_breadcrumb-progress">
                        <li class="creation_process_breadcrumb-progress-step  creation_process_breadcrumb-progress-step--active creation_process_breadcrumb-progress-step--current" data-counter="1">Suis ton envie</li>
                        <li class="creation_process_breadcrumb-progress-step " data-counter="2">Soyez inspiré</li>
                        <li class="creation_process_breadcrumb-progress-step " data-counter="3">Laissez vous guider</li>
                        <li class="creation_process_breadcrumb-progress-step " data-counter="4">Faites nous confiance</li>
                    </ul>
                </div>
                <h1 class="lpblock-title">Soyez inspiré et laissez nous donner forme à vos envies</hjson class="lpblock-text">
                <h3 class="lpblock-subtitle">Choisissez l'interface qui vous inspire le plus :</h3>
                <div class="creation_step_container-mobileback" id="prev_button_link_container"><img class="creation_step_container-mobileback-icon" loading="lazy" width="20" height="20" src="https://portal.ww-cdn.com/portal_static/svg/fapro/light/chevron-left.12142ccf5da5.svg" alt=""><a class="creation_step_container-mobileback-label" id="prev_button_link" href='?number=${number - 1}'></a></div>
                <div class="img-mood-container"></div>
                <div class="creation_step_next_button" id="next_button">
                    <div style="display: flex;"><a class="gbcta gbcta--lvlone" id="next_button_link" style="padding: 0px 80px;cursor: pointer;" href="#"><span class="gbcta-txt">Suivant</span></a></div>
                </div>
            </div>
        </div>
                    
    </main>

    <script>
        let selectedImages = [];

        async function loadImages() {
            try {
                let number = parseInt(getQueryParam("number")) || 1;

                const subtitle = document.querySelector('.lpblock-subtitle');
                if (number === 4) {
                    subtitle.textContent = "Voici l'interface choisie selon vos envies !";
                } else {
                    subtitle.textContent = "Choisissez l'interface qui vous inspire le plus :";
                }

                const prevButtonContainer = document.querySelector("#prev_button_link_container");
                const prevButton = document.querySelector("#prev_button_link");
                if (number === 4) {
                    prevButton.textContent = "Recommencer";
                    prevButton.href = `?number=1`;
                } else if (number > 1) {
                    prevButton.textContent = "Retour";
                    prevButton.href = `?number=${number - 1}`;
                } else {
                    prevButtonContainer.style.display = "none";
                }

                // Si `number` est égal à 4, envoyer directement les données et sortir
                

                const url = "http://127.0.0.1:5000/getInterface";

                let jsonData = localStorage.getItem('cachedData');

                if (!jsonData) {
                    console.log("Fetching data from API...");
                    const response = await fetch(url);

                    if (!response.ok) {
                        throw new Error(`Erreur HTTP ! Statut : ${response.status}`);
                    }

                    jsonData = await response.json();
                    localStorage.setItem('cachedData', JSON.stringify(jsonData));
                } else {
                    console.log("Using cached data...");
                    jsonData = JSON.parse(jsonData);
                }

                // Charger les sélections précédentes du cache
                const cachedSelections = localStorage.getItem('selectedImages');
                if (cachedSelections) {
                    selectedImages = JSON.parse(cachedSelections);
                }
                if (number === 4) {
                    updateProgress(number);
                    console.log("Envoi des données au serveur...");
                    console.log(selectedImages);
                    await sendDataToServer(selectedImages);
                    return;
                }
                // Réinitialiser les sélections pour la page actuelle
                resetSelectionsForPage(number);

                

                const selection1 = jsonData.find(group => group.selection === number);
                const container = document.querySelector('.img-mood-container');
                container.innerHTML = "";

                if (selection1) {
                    initializeSelection(number, selection1.images);

                    selection1.images.forEach(imageObj => {
                        const img = document.createElement('img');
                        img.src = `./mobbin/${imageObj.image}`;
                        img.className = 'img_mood';
                        img.dataset.imageName = imageObj.image;

                        const isSelected = isImageSelected(number, imageObj.image);
                        if (isSelected) {
                            img.classList.add('selected');
                        }

                        container.appendChild(img);

                        img.addEventListener("click", () => {
                            if (img.classList.contains('selected')) {
                                img.classList.remove('selected');
                                updateSelection(number, imageObj.image, false);
                            } else {
                                img.classList.add('selected');
                                updateSelection(number, imageObj.image, true);
                            }
                            updateNextButtonVisibility();
                        });
                    });
                } else {
                    console.error("Aucune donnée trouvée pour 'selection1'");
                }

                const nextButton = document.querySelector("#next_button_link");
                nextButton.addEventListener("click", async () => {
                    window.location.href = `?number=${number + 1}`;
                });

                updateProgress(number);
            } catch (error) {
                console.error('Erreur:', error);
            }
        }

    function updateSelectionsForPage(number, jsonData) {
        const currentGroup = selectedImages.find(item => item.selection === number);
        if (!currentGroup) {
            // Si aucun fichier n'a été sélectionné pour cette page, l'initialiser
            const groupData = jsonData.find(group => group.selection === number);
            if (groupData) {
                initializeSelection(number, groupData.images);
            }
        }
    }

    function initializeSelection(selection, images) {
        let group = selectedImages.find(item => item.selection === selection);
        if (!group) {
            group = { selection: selection, images: [] };
            selectedImages.push(group);
        }

        images.forEach(imageObj => {
            const existingImage = group.images.find(img => img.image === imageObj.image);
            if (!existingImage) {
                group.images.push({ image: imageObj.image, is_selected: false });
            }
        });

        localStorage.setItem('selectedImages', JSON.stringify(selectedImages));
    }

    function clearCache() {
        console.log("Nettoyage du cache...");
        localStorage.removeItem('cachedData');
        localStorage.removeItem('selectedImages');
        console.log("Cache nettoyé avec succès.");
    }

    function updateSelection(selection, image, isSelected) {
        let group = selectedImages.find(item => item.selection === selection);
        if (!group) {
            group = { selection: selection, images: [] };
            selectedImages.push(group);
        }

        const imageEntry = group.images.find(img => img.image === image);
        if (imageEntry) {
            imageEntry.is_selected = isSelected;
        } else {
            group.images.push({ image: image, is_selected: isSelected });
        }

        localStorage.setItem('selectedImages', JSON.stringify(selectedImages));
    }

    function resetSelectionsForPage(number) {
        let group = selectedImages.find(item => item.selection === number);
        if (group) {
            group.images.forEach(image => {
                image.is_selected = false; // Réinitialiser toutes les images à non sélectionnées
            });
            localStorage.setItem('selectedImages', JSON.stringify(selectedImages)); // Mettre à jour le cache
        }
    }


    function isImageSelected(selection, image) {
        const group = selectedImages.find(item => item.selection === selection);
        if (!group) return false;

        const imageEntry = group.images.find(img => img.image === image);
        return imageEntry ? imageEntry.is_selected : false;
    }

    function updateNextButtonVisibility() {
        const nextButton = document.getElementById('next_button');
        const anySelected = document.querySelectorAll('.img-mood-container .selected').length > 0;

        if (anySelected) {
            nextButton.classList.add('creation_step_next_button--visible');
        } else {
            nextButton.classList.remove('creation_step_next_button--visible');
        }
    }

    async function sendDataToServer(data) {
        try {
            const response = await fetch('http://127.0.0.1:5000/sendResult', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            });

            const contentType = response.headers.get('Content-Type');
            if (!contentType || !contentType.includes('application/json')) {
                const text = await response.text();
                console.error('Réponse inattendue du serveur :', text);
                throw new Error('La réponse du serveur n\'est pas au format JSON.');
            }

            const result = await response.json();
            console.log('Résultat reçu du serveur :', result);

            if (result.image) {
                displayImage(result.image);
            } else {
                console.error('Aucune image trouvée dans la réponse.');
            }

            clearCache();
        } catch (error) {
            console.error('Erreur lors de l\'envoi des données :', error);
        }
    }

    function displayImage(imagePath) {
        const container = document.querySelector('.img-mood-container');
        container.innerHTML = '';
        console.log("Image reçue du serveur :", imagePath);

        const img = document.createElement('img');
        img.src = `./images_gb/${imagePath}`;
        img.alt = 'Image reçue du serveur';
        img.className = 'img_mood';

        container.appendChild(img);
    }

    function getQueryParam(param) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(param);
    }

    function updateProgress(number) {
        const steps = document.querySelectorAll('.creation_process_breadcrumb-progress-step');

        steps.forEach((step, index) => {
            const stepNumber = index + 1;

            if (stepNumber < number) {
                step.classList.add('creation_process_breadcrumb-progress-step--active');
                step.classList.remove('creation_process_breadcrumb-progress-step--current');
            } else if (stepNumber === number) {
                step.classList.add('creation_process_breadcrumb-progress-step--active', 'creation_process_breadcrumb-progress-step--current');
            } else {
                step.classList.remove('creation_process_breadcrumb-progress-step--active', 'creation_process_breadcrumb-progress-step--current');
            }
        });
    }

    // Charger les images au démarrage
    loadImages();


    console.log("selectedimlage : ", selectedImages);

    </script>
    

    <div id="cookies-banner" class="cookies-banner"></div>
    <script>
        const mobile_width = 768;
        const tablet_width = 1400;
        let menu_shown = false;
        let listenerOpts = false;
        let resizeId = null;
        let platform = 'desktop';
        const dynamicCta = true;
        const permission_cookie = getCookie("permission_cookie");
        if (permission_cookie == 'y') {
            setUdev();
        }
        try {
            var opts = Object.defineProperty({}, 'passive', {
                get: function() {
                    listenerOpts = {
                        passive: true
                    };
                }
            });
            window.addEventListener("testPassive", null, opts);
            window.removeEventListener("testPassive", null, opts);
        } catch (e) {}

        function setCookie(cname, cvalue, exdays) {
            var d = new Date();
            d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
            var expires = "expires=" + d.toUTCString();
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
        }

        function setUdev() {
            setCookie("udev", "978", 1);
        }

        function initMainNavigationListeners() {
            function listener_on_back_menu() {
                document.getElementById('gbnavbar-backmobile').addEventListener('click', function(e) {
                    this.classList.add('gbnavbar-backmobile--hidden');
                    document.getElementById('gbnavbar-burger').style.display = 'block';
                    document.getElementById("goodbarber-logo").classList.remove('hide');
                    document.getElementById('gbmain').classList.add('active');
                    document.querySelector('.menu-submenu--active').classList.remove('menu-submenu--active');
                }, listenerOpts);
            }

            function hide_all_menus() {
                if (menu_shown) {
                    document.body.style.overflow = "scroll";
                    document.getElementById("goodbarber-logo").classList.remove('hide');
                    const currentActive = document.querySelector('.gbmain-item--hover');
                    if (currentActive) {
                        currentActive.classList.remove('gbmain-item--hover');
                    }
                    Array.from(document.getElementsByClassName('menu-submenu')).forEach(menu => menu.classList.remove('menu-submenu--active'));
                    menu_shown = false;
                }
            }

            function listener_nav_button_mouseover_toggle(menu_element, menu_target) {
                menu_element.addEventListener('mouseover', function(e) {
                    if (window.innerWidth > tablet_width) {
                        hide_all_menus();
                        if (menu_target) {
                            document.getElementById("menus").style.display = "block";
                            this.classList.add('gbmain-item--hover');
                            document.getElementById(menu_target).classList.add('menu-submenu--active');
                            menu_shown = true;
                        }
                    }
                }, listenerOpts);
            }

            function listener_nav_button_click_push(menu_element_button, menu_target) {
                menu_element_button.addEventListener("click", function(e) {
                    if (window.innerWidth <= tablet_width) {
                        document.body.style.overflow = "hidden";
                        document.getElementById("menus").style.display = "block";
                        document.getElementById(menu_target).classList.add('menu-submenu--active');
                        document.getElementById("gbmain").classList.remove('active');
                        document.getElementById("goodbarber-logo").classList.add('hide');
                        document.getElementById('gbnavbar-burger').style.display = 'none';
                        document.getElementById('gbnavbar-backmobiletitle').textContent = this.outerText;
                        document.getElementById('gbnavbar-backmobile').classList.remove('gbnavbar-backmobile--hidden');
                        menu_shown = true;
                    }
                }, listenerOpts);
            }

            function listener_burger() {
                document.getElementById('gbnavbar-burger').addEventListener('click', function(e) {
                    hide_all_menus();
                    this.classList.toggle('gbnavbar-burger--cross');
                    document.getElementById('gbmain').classList.toggle('active');
                    document.getElementById('menus').classList.toggle('menus--open');
                    if (window.innerWidth <= tablet_width) {
                        if (this.classList.contains('gbnavbar-burger--cross')) {
                            document.body.style.overflow = "hidden";
                            document.getElementById('gbhead').style.overflow = 'visible';
                            document.getElementById('login_button').classList.add('gbnavbar-login--shown');
                            document.querySelector('.gbcta--nav').classList.remove('gbcta--shown');
                        } else {
                            document.body.style.overflow = "scroll";
                            document.getElementById('gbhead').style.overflow = 'hidden';
                            document.getElementById('login_button').classList.remove('gbnavbar-login--shown');
                            const sentinel = document.querySelector('.gbcta--banner');
                            if (!sentinel || sentinel.getBoundingClientRect().top < 0) {
                                document.querySelector('.gbcta--nav').classList.add('gbcta--shown');
                            }
                        }
                    }
                }, listenerOpts);
            }
            listener_burger();
            listener_on_back_menu();
            Array.from(document.getElementsByClassName('gbmain-item')).forEach(mainNavItem => {
                const menu_container = mainNavItem.dataset.target;
                listener_nav_button_mouseover_toggle(mainNavItem, menu_container);
                if (mainNavItem.classList.contains('gbmain-item--arrow')) {
                    listener_nav_button_click_push(mainNavItem.firstElementChild, menu_container);
                }
            });
            const menu_close = {
                "main": "mouseover",
                "footer": "mouseover",
                "goodbarber-logo": "mouseover"
            };
            for (const [key, value] of Object.entries(menu_close)) {
                document.getElementById(key).addEventListener(value, function(e) {
                    if (window.innerWidth > tablet_width) {
                        hide_all_menus();
                    }
                }, listenerOpts);
            }
        }

        function initOBLListeners() {
            function myFunction(event) {
                var attribute = this.getAttribute("data-obl");
                if (event.ctrlKey) {
                    var newWindow = window.open(decodeURIComponent(window.atob(attribute)), '_blank');
                    newWindow.focus();
                } else {
                    document.location.href = decodeURIComponent(window.atob(attribute));
                }
            };

            function myRightFunction(event) {
                var attribute = this.getAttribute("data-obl");
                if (event.ctrlKey) {
                    var newWindow = window.open(decodeURIComponent(window.atob(attribute)), '_blank');
                    newWindow.focus();
                } else {
                    window.open(decodeURIComponent(window.atob(attribute)), '_blank');
                }
            };
            var classname = document.getElementsByClassName("obl");
            for (var i = 0; i < classname.length; i++) {
                classname[i].addEventListener('click', myFunction, false);
                classname[i].addEventListener('contextmenu', myRightFunction, false);
            }
        }

        function initLangSelector() {
            const wrapper = document.getElementById('langselector');
            const current = wrapper.querySelector('.langselector-current');
            const list = wrapper.querySelector('.langselector-select');
            let isListOpened = false;
            document.addEventListener('click', evt => {
                const isLangTriggerClick = evt.target == current;
                const closestLangItem = evt.target.closest('.langselector-lang');
                if (isLangTriggerClick) {
                    evt.preventDefault();
                    if (isListOpened) {
                        return;
                    }
                    wrapper.classList.add('langselector--opened');
                    isListOpened = true;
                } else if (closestLangItem && closestLangItem.classList.contains('langselector-lang--current')) {
                    evt.preventDefault();
                    return;
                } else {
                    wrapper.classList.remove('langselector--opened');
                    isListOpened = false;
                }
            }, listenerOpts);
        }

        function initPortalCreationCookie() {
            Array.from(document.getElementsByClassName('gbcta')).forEach(cta => {
                cta.addEventListener('click', function(evt) {
                    const creation_id = this.dataset.creation_id || "none";
                    if (creation_id !== "none") {
                        setCookie('cat_selected', creation_id, 1);
                    }
                }, listenerOpts);
            });
        }

        function initCookieBanner() {
            const cookiewrapper = document.getElementById('cookies-banner');
            if (cookiewrapper) {
                if (permission_cookie != 'y') {
                    var xhr = new XMLHttpRequest();
                    xhr.open('GET', '/partial_cookie_banner/');
                    xhr.send();
                    xhr.onload = function() {
                        cookiewrapper.innerHTML = xhr.response;
                        cookiewrapper.classList.add('open');
                        document.getElementById('accepte-cookies').addEventListener('click', function() {
                            cookiewrapper.classList.remove('open');
                            setCookie("permission_cookie", "y", 10);
                            setUdev();
                        });
                    };
                } else {
                    cookiewrapper.remove();
                }
            }
        }

        function initBannerCtaDisplay() {
            if (dynamicCta === false) {
                document.querySelector('.gbcta--nav').classList.add('gbcta--shown');
                return;
            }
            const toObserve = document.querySelector('.gbcta--banner');
            if ('IntersectionObserver' in window && toObserve !== null) {
                const ctanav = document.querySelector('.gbcta--nav');
                new IntersectionObserver(([entry]) => {
                    if (window.innerWidth > mobile_width) {
                        return;
                    }
                    const leave = Math.ceil(entry.intersectionRatio) === 0;
                    if (leave) {
                        ctanav.classList.add('gbcta--shown');
                    } else {
                        ctanav.classList.remove('gbcta--shown');
                    }
                }, {
                    thresold: 1.0
                }).observe(toObserve);
            }
        }

        function toggleSmallLongCtaTxts() {
            if (window.innerWidth <= mobile_width) {
                if (platform === 'desktop') {
                    Array.from(document.querySelectorAll('.gbcta-txt[data-small]')).forEach(cta => {
                        const longcontent = cta.textContent;
                        cta.textContent = cta.dataset.small;
                        cta.dataset.long = longcontent;
                    });
                }
                platform = 'mobile';
            } else {
                if (platform === 'mobile') {
                    Array.from(document.querySelectorAll('.gbcta-txt[data-long]')).forEach(cta => {
                        const smallcontent = cta.textContent;
                        cta.textContent = cta.dataset.long;
                        cta.dataset.small = smallcontent;
                    });
                }
                platform = 'desktop';
            }
        }

        function onAnimationFrame() {
            toggleSmallLongCtaTxts();
        }

        function onResize() {
            if (resizeId) {
                window.cancelAnimationFrame(resizeId);
            }
            resizeId = window.requestAnimationFrame(onAnimationFrame);
        }

        function initHeaderHeightObserver() {
            document.documentElement.style.setProperty('--windowheight', document.documentElement.clientHeight + 'px');
            new ResizeObserver(([el]) => {
                document.documentElement.style.setProperty('--headerheight', el.contentRect.height + 'px');
            }).observe(document.getElementById('gbhead-top'));
        }
        document.addEventListener('DOMContentLoaded', function(event) {
            initMainNavigationListeners();
            initOBLListeners();
            initLangSelector();
            initPortalCreationCookie();
            initBannerCtaDisplay();
            initHeaderHeightObserver();
            if (window.innerWidth <= mobile_width) {
                onAnimationFrame();
            }
        }, listenerOpts);
        window.addEventListener('load', function initialize() {
            if (session_status != "visitor") {
                session_userid = session.split("|")[1];
                document.getElementById("login_button").innerHTML = "MES APPS";
            }
            window.removeEventListener('load', initialize);
        });
        window.addEventListener('resize', onResize, listenerOpts);;
    </script>
    <script>
        (function() {
            function init() {
                const timers = [];

                function toggleSlideClass(slider, idx, classname) {
                    document.querySelector('.' + classname).classList.remove(classname);
                    slider.slides.entities[idx].classList.add(classname);
                }

                function slideTo(slider, idx) {
                    setActiveDot(slider, idx);
                    const left = slider.slides.container.offsetWidth * idx;
                    slider.slides.container.scrollTo({
                        top: 0,
                        left,
                        behavior: 'smooth'
                    });
                }

                function setActiveDot(slider, idx) {
                    document.querySelector('.' + slider.dots.activeClassname).classList.remove(slider.dots.activeClassname);
                    slider.dots.entities[idx].classList.add(slider.dots.activeClassname);
                    slider.active = idx;
                }

                function onScrollEnd(id, element, callback) {
                    if ('onscrollend' in window) {
                        element.addEventListener('scrollend', callback, false);
                    } else {
                        element.addEventListener('scroll', event => {
                            clearTimeout(timers[id]);
                            timers[id] = setTimeout(() => callback(event), 100);
                        }, false);
                    }
                }
                Array.from(document.querySelectorAll('.faq-desc_question')).forEach(faqQ => {
                    faqQ.addEventListener('click', evt => {
                        evt.target.parentElement.classList.toggle('faq-desc--open');
                    }, false);
                });
                const successSlider = {
                    active: 0,
                    buttons: {
                        entities: Array.from(document.querySelectorAll('.stories-slider_arrow'))
                    },
                    dots: {
                        activeClassname: 'stories-slider_dot--active',
                        entities: Array.from(document.querySelectorAll('.stories-slider_dot'))
                    },
                    slides: {
                        container: document.querySelector('.stories-slides'),
                        entities: Array.from(document.querySelectorAll('.stories-slide'))
                    },
                    interval: 0
                };
                successSlider.dots.entities.forEach(dot => {
                    dot.addEventListener('click', evt => {
                        if (evt.target.classList.contains(successSlider.dots.activeClassname)) {
                            return;
                        }
                        const idx = +evt.target.dataset.index;
                        slideTo(successSlider, idx);
                    }, false);
                });
                successSlider.buttons.entities.forEach(btn => {
                    btn.addEventListener('click', evt => {
                        const step = parseInt(evt.target.dataset.step);
                        const newIdx = successSlider.active + step;
                        const boundIdx = Math.max(0, Math.min(newIdx, successSlider.slides.entities.length - 1));
                        slideTo(successSlider, boundIdx);
                    }, false);
                });
                onScrollEnd('success', successSlider.slides.container, evt => {
                    const idx = Math.floor(evt.target.scrollLeft / evt.target.offsetWidth);
                    const bound = Math.max(0, Math.min(idx, successSlider.slides.entities.length - 1));
                    if (bound !== successSlider.active) {
                        setActiveDot(successSlider, idx);
                    }
                });
                const tpSlider = {
                    active: 0,
                    buttons: {
                        entities: Array.from(document.querySelectorAll('.reviews-arrow'))
                    },
                    dots: {
                        activeClassname: 'reviews-dot--active',
                        entities: Array.from(document.querySelectorAll('.reviews-dot'))
                    },
                    slides: {
                        container: document.querySelector('.reviews-list'),
                        entities: Array.from(document.querySelectorAll('.reviews-review'))
                    }
                };
                tpSlider.buttons.entities.forEach(btn => {
                    btn.addEventListener('click', evt => {
                        const step = parseInt(evt.target.dataset.step);
                        const newIdx = tpSlider.active + step;
                        const boundIdx = Math.max(0, Math.min(newIdx, tpSlider.slides.entities.length - 1));
                        toggleSlideClass(tpSlider, boundIdx, 'reviews-review--display');
                        slideTo(tpSlider, boundIdx);
                    }, false);
                });
                tpSlider.dots.entities.forEach(dot => {
                    dot.addEventListener('click', evt => {
                        if (evt.target.classList.contains(tpSlider.dots.activeClassname)) {
                            return;
                        }
                        const idx = +evt.target.dataset.index;
                        toggleSlideClass(tpSlider, idx, 'reviews-review--display');
                        slideTo(tpSlider, idx);
                    }, false);
                });
                onScrollEnd('tp', tpSlider.slides.container, evt => {
                    const idx = Math.floor(evt.target.scrollLeft / evt.target.offsetWidth);
                    const bound = Math.max(0, Math.min(idx, tpSlider.slides.entities.length - 1));
                    if (bound !== tpSlider.active) {
                        toggleSlideClass(tpSlider, bound, 'reviews-review--display');
                        setActiveDot(tpSlider, bound);
                    }
                });
                var lazyVideos = [].slice.call(document.querySelectorAll("video.lazyvid"));
                if ("IntersectionObserver" in window) {
                    var lazyVideoObserver = new IntersectionObserver(function(entries, observer) {
                        entries.forEach(function(video) {
                            if (video.isIntersecting) {
                                for (var source in video.target.children) {
                                    var videoSource = video.target.children[source];
                                    if (typeof videoSource.tagName === "string" && videoSource.tagName === "SOURCE") {
                                        videoSource.src = videoSource.dataset.src;
                                    }
                                }
                                video.target.load();
                                video.target.classList.remove("lazy");
                                lazyVideoObserver.unobserve(video.target);
                            }
                        });
                    });
                    lazyVideos.forEach(function(lazyVideo) {
                        lazyVideoObserver.observe(lazyVideo);
                    });
                }
            }
            document.addEventListener('DOMContentLoaded', init, false);
        })();;
    </script>
</body>


</html>
    